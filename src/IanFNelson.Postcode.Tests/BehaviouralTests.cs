using System;
using NUnit.Framework;

namespace IanFNelson.Postcode.Tests
{
    [TestFixture]
    public class BehaviouralTests
    {
        #region OutCode tests

        [Test]
        public void Parse_ValidPartialPostCode_ReturnInputValueOutCode()
        {
            // Arrange
            const string expected = "PO8";

            // Act
            var actual = Postcode.Parse(expected);

            // Assert
            Assert.AreEqual(expected, actual.OutCode);
        }

        [Test]
        [ExpectedException(typeof(FormatException))]
        public void Parse_InvalidPartialPostCode_OriginalValueNotReturned()
        {
            // Arrange
            const string expected = "PZ7";

            // Act
            var actual = Postcode.Parse(expected);

            // Assert
            Assert.AreNotEqual(expected, actual.OutCode);
        }

        [Test]
        public void Parse_ValidPostCode_ReturnInputValue()
        {
            // Arrange
            const string expected = "PO8 5PQ";

            // Act
            var actual = Postcode.Parse(expected);

            // Assert
            Assert.AreEqual(expected, actual.ToString());
        }

        #endregion
    }
}